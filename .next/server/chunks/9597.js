exports.id=9597,exports.ids=[9597],exports.modules={8998:(t,e,s)=>{"use strict";s.d(e,{Ho:()=>AuthProvider,aC:()=>useAuth});var a=s(997),n=s(6689),i=s(1163),r=s(4159);let o=(0,n.createContext)({});function AuthProvider({children:t}){let[e,s]=(0,n.useState)(null),[l,c]=(0,n.useState)(null),[u,h]=(0,n.useState)(!0),d=(0,i.useRouter)();return(0,n.useEffect)(()=>{let handleAuthRedirect=async()=>{let{hash:t}=window.location;if(t&&t.includes("access_token")){let{data:t,error:e}=await r.O.auth.getUser();t?.user&&d.push("/trip-planner")}};handleAuthRedirect();let getInitialSession=async()=>{try{let{data:t,error:e}=await r.O.auth.getSession();c(t.session),s(t.session?.user||null)}catch(t){console.error("Error getting session:",t)}finally{h(!1)}};getInitialSession();let{data:{subscription:t}}=r.O.auth.onAuthStateChange((t,e)=>{console.log("Auth event:",t),c(e),s(e?.user||null),h(!1),"SIGNED_IN"===t&&e?d.push("/trip-planner"):"SIGNED_OUT"===t&&d.push("/")});return()=>{t?.unsubscribe()}},[d]),a.jsx(o.Provider,{value:{user:e,session:l,signIn:async(t,e)=>{let{data:s,error:a}=await r.O.auth.signInWithPassword({email:t,password:e});return{data:s,error:a}},signUp:async(t,e,s={})=>{let{data:a,error:n}=await r.O.auth.signUp({email:t,password:e,options:{data:s,emailRedirectTo:`${window.location.origin}/auth/callback`}});return{data:a,error:n}},signOut:async()=>{let{error:t}=await r.O.auth.signOut();return{error:t}},loading:u,status:u?"loading":e?"authenticated":"unauthenticated",data:e?{user:e,session:l}:null},children:t})}let useAuth=()=>(0,n.useContext)(o)},8970:(t,e,s)=>{"use strict";s.d(e,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=s(997),n=s(1501),i=s(3197);let __WEBPACK_DEFAULT_EXPORT__=()=>(0,a.jsxs)("button",{className:"btn btn-sm",onClick:()=>{i.Z.crisp?.id?(n.Crisp.chat.show(),n.Crisp.chat.open()):i.Z.mailgun?.supportEmail&&window.open(`mailto:${i.Z.mailgun.supportEmail}?subject=Need help with ${i.Z.appName}`,"_blank")},"data-tooltip-id":"tooltip","data-tooltip-content":"Talk to support",title:"Chat with support",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{fillRule:"evenodd",d:"M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902.848.137 1.705.248 2.57.331v3.443a.75.75 0 001.28.53l3.58-3.579a.78.78 0 01.527-.224 41.202 41.202 0 005.183-.5c1.437-.232 2.43-1.49 2.43-2.903V5.426c0-1.413-.993-2.67-2.43-2.902A41.289 41.289 0 0010 2zm0 7a1 1 0 100-2 1 1 0 000 2zM8 8a1 1 0 11-2 0 1 1 0 012 0zm5 1a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"Support"]})},2603:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var a=s(997),n=s(6689),i=s.n(n),r=s(1649),o=s(1664),l=s.n(o),c=s(8970);let ErrorBoundary=class ErrorBoundary extends i().Component{constructor(t){super(t),this.state={error:null,errorInfo:null}}componentDidCatch(t,e){this.setState({error:t,errorInfo:e})}render(){return this.state.errorInfo?a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"h-screen w-full flex flex-col justify-center items-center text-center gap-6 p-6",children:[a.jsx("p",{className:"font-medium",children:"Something went wrong \uD83E\uDD72"}),a.jsx("p",{className:"text-red-500",children:this.state.error?.message}),a.jsx(c.Z,{showTextOnSmall:!0}),(0,a.jsxs)(l(),{href:"/",className:"btn btn-sm",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{fillRule:"evenodd",d:"M9.293 2.293a1 1 0 011.414 0l7 7A1 1 0 0117 11h-1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-3a1 1 0 00-1-1H9a1 1 0 00-1 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-6H3a1 1 0 01-.707-1.707l7-7z",clipRule:"evenodd"})}),"Home"]}),a.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>(0,r.signOut)(),children:"Logout"})]})}):this.props.children}};let u=ErrorBoundary},8980:(t,e,s)=>{"use strict";s.a(t,async(t,a)=>{try{s.d(e,{Z:()=>Layout});var n=s(997),i=s(3507),r=s.n(i),o=s(9816),l=s.n(o);s(4140);var c=s(6689),u=s(1163),h=s(8890),d=s.n(h),p=s(6201),m=s(1501),x=s(1089),w=s(2603),f=s(3197),g=s(8998),v=t([p,x]);function Layout({children:t}){let e=(0,u.useRouter)(),{user:s}=(0,g.aC)(),[a,i]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{e.isReady&&f.Z?.crisp?.id&&(m.Crisp.configure(f.Z.crisp.id),f.Z.crisp.onlyShowOnRoutes&&!f.Z.crisp.onlyShowOnRoutes.includes(e.pathname)&&(m.Crisp.chat.hide(),m.Crisp.chat.onChatClosed(()=>{m.Crisp.chat.hide()})))},[e.isReady,e.pathname]),(0,c.useEffect)(()=>{s&&f.Z?.crisp?.id&&m.Crisp.session.setData({userId:s.id})},[s]),(0,c.useEffect)(()=>{i(!0)},[]),(0,n.jsxs)(w.Z,{children:[n.jsx(l(),{id:"4adc715280ad84e1",dynamic:[r().style.fontFamily],children:`html{font-family:${r().style.fontFamily}}h1,h2,h3,h4,h5,h6{font-weight:700;letter-spacing:-.025em}.btn{-webkit-transition:all.2s ease-in-out;-moz-transition:all.2s ease-in-out;-o-transition:all.2s ease-in-out;transition:all.2s ease-in-out}.btn:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px)}`}),n.jsx(d(),{color:f.Z.colors.main,options:{showSpinner:!1}}),t,a&&n.jsx(p.Toaster,{toastOptions:{duration:3e3}}),n.jsx(x.Tooltip,{id:"tooltip",className:"z-[60] !opacity-100 max-w-sm shadow-lg"})]})}[p,x]=v.then?(await v)():v,a()}catch(t){a(t)}})},4159:(t,e,s)=>{"use strict";s.d(e,{O:()=>n});var a=s(2885);let n=(0,a.createClient)("https://qlcenpzwdvvtcnblixyp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFsY2VucHp3ZHZ2dGNuYmxpeHlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYzOTY4MTMsImV4cCI6MjA2MTk3MjgxM30.B332OjGROnVxsSKra9T_Uh6fQvVdhOH21z7731pc1Kk")},9597:(t,e,s)=>{"use strict";s.a(t,async(t,a)=>{try{s.r(e),s.d(e,{default:()=>App});var n=s(997),i=s(8998),r=s(8980),o=s(968),l=s.n(o);s(6764);var c=t([r]);function App({Component:t,pageProps:e}){let s=t.getLayout||(t=>n.jsx(r.Z,{children:t}));return(0,n.jsxs)(i.Ho,{children:[n.jsx(l(),{children:n.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})}),s(n.jsx(t,{...e}))]})}r=(c.then?(await c)():c)[0],a()}catch(t){a(t)}})},6764:()=>{}};