exports.id=9597,exports.ids=[9597],exports.modules={8998:(t,e,s)=>{"use strict";s.d(e,{H:()=>AuthProvider,a:()=>useAuth});var n=s(997),a=s(6689),r=s(1163),i=s(4159);let o=(0,a.createContext)();function AuthProvider({children:t}){let[e,s]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0),u=(0,r.useRouter)();(0,a.useEffect)(()=>{let checkSession=async()=>{let{data:{session:t}}=await i.O.auth.getSession();s(t?.user||null),c(!1)};checkSession();let{data:{subscription:t}}=i.O.auth.onAuthStateChange((t,e)=>{s(e?.user||null),c(!1),e?.user&&("/auth/signin"===u.pathname||"/auth/signup"===u.pathname||"/dashboard"===u.pathname)&&u.push("/trip-planner")});return()=>{t?.unsubscribe()}},[u]);let signIn=async(t,e)=>{try{let{data:s,error:n}=await i.O.auth.signInWithPassword({email:t,password:e});if(n)throw n;return u.push("/trip-planner"),s}catch(t){throw t}},signUp=async(t,e,s)=>{try{let{data:n,error:a}=await i.O.auth.signUp({email:t,password:e,options:{data:{full_name:s}}});if(a)throw a;if(n.user){let e=new Date,{error:a}=await i.O.from("profiles").insert([{id:n.user.id,full_name:s,email:t,trips_count:0,countries_visited:0,credits:30,last_credit_reset:e.toISOString()}]);a&&console.error("Error creating profile:",a)}return u.push("/trip-planner"),n}catch(t){throw t}},signOut=async()=>{try{let{error:t}=await i.O.auth.signOut();if(t)throw t;u.push("/")}catch(t){console.error("Error signing out:",t.message)}};return n.jsx(o.Provider,{value:{user:e,signIn,signUp,signOut,loading:l},children:t})}function useAuth(){return(0,a.useContext)(o)}},8970:(t,e,s)=>{"use strict";s.d(e,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=s(997),a=s(1501),r=s(3197);let __WEBPACK_DEFAULT_EXPORT__=()=>(0,n.jsxs)("button",{className:"btn btn-sm",onClick:()=>{r.Z.crisp?.id?(a.Crisp.chat.show(),a.Crisp.chat.open()):r.Z.mailgun?.supportEmail&&window.open(`mailto:${r.Z.mailgun.supportEmail}?subject=Need help with ${r.Z.appName}`,"_blank")},"data-tooltip-id":"tooltip","data-tooltip-content":"Talk to support",title:"Chat with support",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:n.jsx("path",{fillRule:"evenodd",d:"M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902.848.137 1.705.248 2.57.331v3.443a.75.75 0 001.28.53l3.58-3.579a.78.78 0 01.527-.224 41.202 41.202 0 005.183-.5c1.437-.232 2.43-1.49 2.43-2.903V5.426c0-1.413-.993-2.67-2.43-2.902A41.289 41.289 0 0010 2zm0 7a1 1 0 100-2 1 1 0 000 2zM8 8a1 1 0 11-2 0 1 1 0 012 0zm5 1a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"Support"]})},2603:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=s(997),a=s(6689),r=s.n(a),i=s(1649),o=s(1664),l=s.n(o),c=s(8970);let ErrorBoundary=class ErrorBoundary extends r().Component{constructor(t){super(t),this.state={error:null,errorInfo:null}}componentDidCatch(t,e){this.setState({error:t,errorInfo:e})}render(){return this.state.errorInfo?n.jsx(n.Fragment,{children:(0,n.jsxs)("div",{className:"h-screen w-full flex flex-col justify-center items-center text-center gap-6 p-6",children:[n.jsx("p",{className:"font-medium",children:"Something went wrong \uD83E\uDD72"}),n.jsx("p",{className:"text-red-500",children:this.state.error?.message}),n.jsx(c.Z,{showTextOnSmall:!0}),(0,n.jsxs)(l(),{href:"/",className:"btn btn-sm",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:n.jsx("path",{fillRule:"evenodd",d:"M9.293 2.293a1 1 0 011.414 0l7 7A1 1 0 0117 11h-1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-3a1 1 0 00-1-1H9a1 1 0 00-1 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-6H3a1 1 0 01-.707-1.707l7-7z",clipRule:"evenodd"})}),"Home"]}),n.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>(0,i.signOut)(),children:"Logout"})]})}):this.props.children}};let u=ErrorBoundary},8980:(t,e,s)=>{"use strict";s.a(t,async(t,n)=>{try{s.d(e,{Z:()=>Layout});var a=s(997),r=s(3507),i=s.n(r),o=s(9816),l=s.n(o);s(4140);var c=s(6689),u=s(1163),h=s(8890),p=s.n(h),d=s(6201),m=s(1501),w=s(1089),x=s(2603),f=s(3197),g=s(8998),v=t([d,w]);function Layout({children:t}){let e=(0,u.useRouter)(),{user:s}=(0,g.a)(),[n,r]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{e.isReady&&f.Z?.crisp?.id&&(m.Crisp.configure(f.Z.crisp.id),f.Z.crisp.onlyShowOnRoutes&&!f.Z.crisp.onlyShowOnRoutes.includes(e.pathname)&&(m.Crisp.chat.hide(),m.Crisp.chat.onChatClosed(()=>{m.Crisp.chat.hide()})))},[e.isReady,e.pathname]),(0,c.useEffect)(()=>{s&&f.Z?.crisp?.id&&m.Crisp.session.setData({userId:s.id})},[s]),(0,c.useEffect)(()=>{r(!0)},[]),(0,a.jsxs)(x.Z,{children:[a.jsx(l(),{id:"4adc715280ad84e1",dynamic:[i().style.fontFamily],children:`html{font-family:${i().style.fontFamily}}h1,h2,h3,h4,h5,h6{font-weight:700;letter-spacing:-.025em}.btn{-webkit-transition:all.2s ease-in-out;-moz-transition:all.2s ease-in-out;-o-transition:all.2s ease-in-out;transition:all.2s ease-in-out}.btn:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px)}`}),a.jsx(p(),{color:f.Z.colors.main,options:{showSpinner:!1}}),t,n&&a.jsx(d.Toaster,{toastOptions:{duration:3e3}}),a.jsx(w.Tooltip,{id:"tooltip",className:"z-[60] !opacity-100 max-w-sm shadow-lg"})]})}[d,w]=v.then?(await v)():v,n()}catch(t){n(t)}})},4159:(t,e,s)=>{"use strict";s.d(e,{O:()=>a});var n=s(2885);let a=(0,n.createClient)("https://qlcenpzwdvvtcnblixyp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFsY2VucHp3ZHZ2dGNuYmxpeHlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYzOTY4MTMsImV4cCI6MjA2MTk3MjgxM30.B332OjGROnVxsSKra9T_Uh6fQvVdhOH21z7731pc1Kk",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:{getItem:t=>null,setItem:(t,e)=>{},removeItem:t=>{}}}})},9597:(t,e,s)=>{"use strict";s.a(t,async(t,n)=>{try{s.r(e),s.d(e,{default:()=>App});var a=s(997),r=s(8998),i=s(8980),o=s(968),l=s.n(o);s(6764);var c=t([i]);function App({Component:t,pageProps:e}){let s=t.getLayout||(t=>a.jsx(i.Z,{children:t}));return(0,a.jsxs)(r.H,{children:[a.jsx(l(),{children:a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})}),s(a.jsx(t,{...e}))]})}i=(c.then?(await c)():c)[0],n()}catch(t){n(t)}})},6764:()=>{}};