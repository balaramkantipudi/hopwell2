"use strict";(()=>{var e={};e.id=4299,e.ids=[4299],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},3477:(e,a,r)=>{r.r(a),r.d(a,{config:()=>d,default:()=>u,routeModule:()=>o});var t={};r.r(t),r.d(t,{default:()=>handler});var s=r(1802),i=r(7153),n=r(6249),l=r(6548);async function handler(e,a){let{method:r,body:t}=e;if("POST"===r){if(!t.email)return a.status(404).send({error:"Need an email"});try{let{error:e}=await l.O.from("leads").upsert([{email:t.email,created_at:new Date().toISOString()}],{onConflict:"email",ignoreDuplicates:!0});if(e)throw e;return a.status(200).json({})}catch(e){return console.error(e),a.status(500).json({error:e?.message})}}a.status(404).json({error:"Unknown request type"})}let u=(0,n.l)(t,"default"),d=(0,n.l)(t,"config"),o=new s.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/lead",pathname:"/api/lead",bundlePath:"",filename:""},userland:t})},6548:(e,a,r)=>{r.d(a,{O:()=>s});let t=require("@supabase/supabase-js"),s=(0,t.createClient)("https://qlcenpzwdvvtcnblixyp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFsY2VucHp3ZHZ2dGNuYmxpeHlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYzOTY4MTMsImV4cCI6MjA2MTk3MjgxM30.B332OjGROnVxsSKra9T_Uh6fQvVdhOH21z7731pc1Kk")}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),r=a.X(0,[4222],()=>__webpack_exec__(3477));module.exports=r})();