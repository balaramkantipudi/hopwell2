(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[611],{5104:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plan-my-trip/results",function(){return s(9179)}])},3874:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.86bc5614.png",height:200,width:1100,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAAElBMVEWxtLmgmlCTj0mqn0GdmmjdzF74kXbtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAEUlEQVR4nGNgYGBgYWJkZgUAADMAENwjFK0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:1}},9044:function(e,t,s){"use strict";var r=s(5893),i=s(1664),n=s.n(i),a=s(5675),l=s.n(a),o=s(3197),c=s(3874);t.Z=()=>(0,r.jsx)("footer",{className:"bg-yellow-50 border-t border-base-content/10",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-8 py-24",children:(0,r.jsxs)("div",{className:" flex lg:items-start md:flex-row md:flex-nowrap flex-wrap flex-col",children:[(0,r.jsxs)("div",{className:"w-64 flex-shrink-0 md:mx-0 mx-auto text-center md:text-left",children:[(0,r.jsxs)(n(),{href:"/#","aria-current":"page",className:"flex gap-2 justify-center md:justify-start items-center",children:[(0,r.jsx)(l(),{src:c.Z,alt:"ShipFast logo",priority:!0,className:"w-6 h-6",width:24,height:24}),(0,r.jsx)("strong",{className:"font-extrabold tracking-tight text-base md:text-lg",children:"Hopwell"})]}),(0,r.jsx)("p",{className:"mt-3 text-sm text-base-content/80 text-gray-500",children:"Travel made so easy, you already plan your next trip."}),(0,r.jsxs)("p",{className:"mt-3 text-sm text-base-content/60 text-gray-500",children:["Copyright \xa9 ",new Date().getFullYear()," - All rights reserved"]})]}),(0,r.jsxs)("div",{className:"flex-grow flex flex-wrap justify-center -mb-10 md:mt-0 mt-10 text-center ",children:[(0,r.jsxs)("div",{className:"lg:w-1/3 md:w-1/2 w-full px-4",children:[(0,r.jsx)("div",{className:"footer-title font-semibold text-base-content tracking-widest text-sm md:text-left mb-3 text-gray-700",children:"LINKS"}),(0,r.jsx)("div",{className:"flex flex-col justify-center items-center md:items-start gap-2 mb-10 text-sm",children:o.Z.mailgun.supportEmail&&(0,r.jsx)("a",{href:"mailto:".concat(o.Z.mailgun.supportEmail),target:"_blank",className:"link link-hover","aria-label":"Contact Support",children:"Support"})})]}),(0,r.jsxs)("div",{className:"lg:w-1/3 md:w-1/2 w-full px-4",children:[(0,r.jsx)("div",{className:"footer-title font-semibold text-base-content tracking-widest text-sm md:text-left mb-3 text-gray-700",children:"LEGAL"}),(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center md:items-start gap-2 mb-10 text-sm",children:[(0,r.jsx)(n(),{href:"/tos",className:"link link-hover",children:"Terms of services"}),(0,r.jsx)(n(),{href:"/privacy-policy",className:"link link-hover",children:"Privacy policy"})]})]})]})]})})})},4345:function(e,t,s){"use strict";s.d(t,{Z:function(){return components_TripHeader}});var r=s(5893),i=s(1163),n=s(1664),a=s.n(n),l=s(5675),o=s.n(l),c=s(8998),d=s(3874);s(7294),s(5201);var components_TripHeader=()=>{let e=(0,i.useRouter)(),{user:t,signOut:s}=(0,c.aC)();return(0,r.jsx)("header",{className:"bg-white shadow-sm",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,r.jsx)(a(),{href:"/",children:(0,r.jsx)(o(),{src:d.Z,alt:"Hopwell",width:40,height:40})})}),(0,r.jsxs)("nav",{className:"ml-6 flex space-x-8",children:[(0,r.jsx)(a(),{href:"/trip-planner",className:"inline-flex items-center px-1 pt-1 border-b-2 ".concat("/trip-planner"===e.pathname?"border-indigo-500 text-sm font-medium text-gray-900":"border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Trip Planner"}),(0,r.jsx)(a(),{href:"/my-trips",className:"inline-flex items-center px-1 pt-1 border-b-2 ".concat("/my-trips"===e.pathname?"border-indigo-500 text-sm font-medium text-gray-900":"border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"My Trips"}),(0,r.jsx)(a(),{href:"/profile",className:"inline-flex items-center px-1 pt-1 border-b-2 ".concat("/profile"===e.pathname?"border-indigo-500 text-sm font-medium text-gray-900":"border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Profile"})]})]}),(0,r.jsx)("div",{className:"flex items-center space-x-4",children:t?(0,r.jsx)("button",{onClick:()=>s(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign out"}):(0,r.jsx)(a(),{href:"/auth/signin",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign in"})})]})})})}},9179:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ResultsPage}});var r=s(5893),i=s(7294),n=s(1163),a=s(9008),l=s.n(a),o=s(1664),c=s.n(o),d=s(9044);s(5201),s(4345);var m=s(8998);function ResultsPage(){let[e,t]=(0,i.useState)(""),[s,a]=(0,i.useState)({}),[o,x]=(0,i.useState)(!0),[h,p]=(0,i.useState)(!1),[g,u]=(0,i.useState)(!1),[f,j]=(0,i.useState)(""),[v,b]=(0,i.useState)(""),w=(0,n.useRouter)(),{user:N}=(0,m.aC)();(0,i.useEffect)(()=>{let fetchItinerary=async()=>{try{let e=localStorage.getItem("itineraryAndBudget"),s=localStorage.getItem("tripFormData");if(e){if(s)try{let r=JSON.parse(s);a(r);let i=processItinerary(e,r);t(i);let n=e.match(/TRIP TO ([^-\n]+)/i),l=n?"Trip to ".concat(n[1].trim()):"My Travel Itinerary";b(l)}catch(s){console.error("Error parsing form data:",s),t(e)}else{t(e);let s=e.match(/TRIP TO ([^-\n]+)/i),r=s?"Trip to ".concat(s[1].trim()):"My Travel Itinerary";b(r)}}}catch(e){console.error("Error loading itinerary:",e)}finally{x(!1)}};fetchItinerary()},[]);let saveTrip=async()=>{if(!N){alert("Please sign in to save your trip"),w.push("/auth/signin");return}p(!0),j("");try{let t={};try{let e=localStorage.getItem("tripFormData");e&&(t=JSON.parse(e))}catch(e){console.error("Error parsing stored form data:",e)}let s=await fetch("/api/savetrip",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tripData:t,itinerary:e,title:v})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to save trip")}let r=await s.json();console.log("Save success:",r),u(!0),setTimeout(()=>{w.push("/my-trips")},2e3)}catch(e){console.error("Error saving trip:",e),j(e.message||"Failed to save trip. Please try again.")}finally{p(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:"Your Travel Itinerary | Hopwell"}),(0,r.jsx)("style",{type:"text/css",media:"print",children:"\n          @media print {\n            header, footer, .no-print {\n              display: none !important;\n            }\n            body {\n              font-size: 12pt;\n              color: #000;\n              background-color: #fff;\n            }\n            .print-container {\n              margin: 0;\n              padding: 0;\n            }\n            h1 {\n              font-size: 18pt;\n              margin-bottom: 20pt;\n            }\n            h3 {\n              font-size: 14pt;\n              margin-top: 15pt;\n              margin-bottom: 10pt;\n            }\n          }\n          "})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 min-h-screen",children:[(0,r.jsx)("main",{className:"print-container max-w-4xl mx-auto px-4 py-8",children:o?(0,r.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-900"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-indigo-900 text-white p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:v}),(0,r.jsx)("div",{className:"no-print",children:(0,r.jsx)("input",{type:"text",value:v,onChange:e=>b(e.target.value),className:"px-3 py-2 bg-indigo-800 text-white rounded border border-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Trip Title"})})]}),(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap gap-4 items-center text-sm",children:[s.destination&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Destination:"})," ",s.destination]}),s.startDate&&s.endDate&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Dates:"})," ",new Date(s.startDate).toLocaleDateString()," - ",new Date(s.endDate).toLocaleDateString()]}),s.groupCount&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Travelers:"})," ",s.groupCount," ",s.groupType?s.groupType:"people"]})]})]}),(0,r.jsx)("div",{className:"p-6 md:p-8",children:(0,r.jsx)("div",{className:"prose max-w-none",children:e?e.split("\n").map((e,t)=>{if(e.match(/^[A-Z\s\d]{3,}$/)||e.match(/^#+\s+[A-Z\s\d]{3,}$/))return(0,r.jsx)("h2",{className:"text-2xl font-bold text-indigo-900 mt-8 mb-4",children:e.replace(/^#+\s+/,"")},t);if(e.match(/^[=\-]{3,}$/))return(0,r.jsx)("hr",{className:"border-t border-gray-300 my-2"},t);if(e.match(/^##\s+.+/)||e.match(/^[A-Z][a-z]/)&&e.match(/:/))return(0,r.jsx)("h3",{className:"text-xl font-semibold text-indigo-800 mt-6 mb-2",children:e.replace(/^##\s+/,"")},t);if(e.match(/\*\*.+\*\*/)||e.match(/__.*__/))return(0,r.jsx)("p",{className:"mb-2",children:e.split(/(\*\*.*?\*\*|__.*?__)/g).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,r.jsx)("strong",{children:e.slice(2,-2)},t):e.startsWith("__")&&e.endsWith("__")?(0,r.jsx)("strong",{children:e.slice(2,-2)},t):e)},t);if(e.trim().startsWith("-")||e.trim().startsWith("*")){let s=e.trim().substring(1).trim();return s.match(/\[.*?\]\(.*?\)/)?(0,r.jsxs)("p",{className:"ml-6 mb-2 flex items-start",children:[(0,r.jsx)("span",{className:"inline-block w-2 h-2 mt-2 rounded-full bg-indigo-600 mr-2 flex-shrink-0"}),(0,r.jsx)("span",{children:s.split(/(\[.*?\]\(.*?\))/g).map((e,t)=>{let s=e.match(/\[(.*?)\]\((.*?)\)/);return s?(0,r.jsx)("a",{href:s[2],target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:s[1]},t):e})})]},t):(0,r.jsxs)("p",{className:"ml-6 mb-2 flex items-start",children:[(0,r.jsx)("span",{className:"inline-block w-2 h-2 mt-2 rounded-full bg-indigo-600 mr-2 flex-shrink-0"}),(0,r.jsx)("span",{children:s})]},t)}if(e.match(/\[.*?\]\(.*?\)/))return(0,r.jsx)("p",{className:"mb-2",children:e.split(/(\[.*?\]\(.*?\))/g).map((e,t)=>{let s=e.match(/\[(.*?)\]\((.*?)\)/);return s?(0,r.jsx)("a",{href:s[2],target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:s[1]},t):e})},t);if(""===e.trim())return(0,r.jsx)("div",{className:"h-2"},t);else return(0,r.jsx)("p",{className:"mb-2",children:e},t)}):[]})}),(0,r.jsx)("div",{className:"border-t border-gray-200 bg-gray-50 p-4 no-print",children:(0,r.jsxs)("div",{className:"flex flex-wrap justify-between items-center",children:[(0,r.jsx)("div",{className:"flex space-x-4",children:(0,r.jsx)(c(),{href:"/trip-planner",className:"text-indigo-600 hover:text-indigo-800",children:"← Create another trip"})}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[g?(0,r.jsxs)("div",{className:"text-green-600 font-medium flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Trip Saved!"]}):f?(0,r.jsx)("div",{className:"text-red-600 font-medium",children:f}):(0,r.jsx)("button",{onClick:saveTrip,disabled:h,className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 flex items-center",children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h1a2 2 0 012 2v7a2 2 0 01-2 2H8a2 2 0 01-2-2v-7a2 2 0 012-2h1v5.586l-1.293-1.293z"})}),"Save Trip"]})}),(0,r.jsxs)("button",{onClick:()=>{window.print()},className:"bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300 flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"Print"]})]})]})})]}),(0,r.jsxs)("div",{className:"mt-8 bg-white shadow-lg rounded-lg p-6 no-print",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-indigo-900 mb-4",children:"Ready for Your Adventure?"}),(0,r.jsx)("p",{className:"mb-4",children:"This itinerary is just the beginning of your journey. Here are some next steps:"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"bg-indigo-100 p-2 rounded-full mr-3",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Book Your Accommodations"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Secure your stay early for the best prices and availability."})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"bg-indigo-100 p-2 rounded-full mr-3",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Arrange Transportation"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Book flights, trains, or rental cars according to your itinerary."})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"bg-indigo-100 p-2 rounded-full mr-3",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Check Travel Requirements"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Research visa requirements, travel insurance, and health guidelines."})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"bg-indigo-100 p-2 rounded-full mr-3",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Share Your Plans"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Send your itinerary to fellow travelers and emergency contacts."})]})]})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)(c(),{href:"/my-trips",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:"View All Saved Trips →"})})]})]})}),(0,r.jsx)(d.Z,{})]})]})}ResultsPage.getLayout=function(e){return e}}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=5104)}),_N_E=e.O()}]);