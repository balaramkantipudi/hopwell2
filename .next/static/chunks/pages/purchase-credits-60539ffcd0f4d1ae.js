(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[486],{3198:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/purchase-credits",function(){return i(8510)}])},8510:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return PurchaseCredits}});var r=i(5893),t=i(7294),a=i(1163),l=i(9008),n=i.n(l),d=i(6925),c=i(8998),o=i(5201);function PurchaseCredits(){var e,s;let{user:i}=(0,c.a)(),l=(0,a.useRouter)(),[m,u]=(0,t.useState)(1),[h,x]=(0,t.useState)(!1),[p,g]=(0,t.useState)(""),[f,v]=(0,t.useState)(""),j=[{id:1,amount:5,price:9.99,popular:!1},{id:2,amount:10,price:14.99,popular:!0},{id:3,amount:20,price:24.99,popular:!1}],handlePurchase=async()=>{if(!i){l.push("/auth/signin?redirect=purchase-credits");return}x(!0),g(""),v("");try{let e=j.find(e=>e.id===m),{data:s,error:r}=await o.O.from("profiles").select("credits").eq("id",i.id).single();if(r)throw r;let t=(null==s?void 0:s.credits)||0,{error:a}=await o.O.from("profiles").update({credits:t+e.amount}).eq("id",i.id);if(a)throw a;v("Successfully purchased ".concat(e.amount," credits!")),setTimeout(()=>{l.push("/trip-planner")},2e3)}catch(e){console.error("Error processing purchase:",e),g("There was an error processing your purchase. Please try again.")}finally{x(!1)}};return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(n(),{children:(0,r.jsx)("title",{children:"Purchase Credits | Hopwell"})}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-indigo-900",children:"Purchase Travel Credits"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Credits let you generate custom travel itineraries for your adventures"})]}),p&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg",children:p}),f&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-green-50 text-green-700 rounded-lg",children:f}),(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"p-6 md:p-8",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Select a Credit Package"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:j.map(e=>(0,r.jsxs)("div",{className:"relative",children:[e.popular&&(0,r.jsx)("div",{className:"absolute -top-2 -right-2 bg-indigo-500 text-white text-xs px-2 py-1 rounded-full",children:"Best Value"}),(0,r.jsx)("input",{type:"radio",id:"option-".concat(e.id),name:"creditOption",checked:m===e.id,onChange:()=>u(e.id),className:"sr-only"}),(0,r.jsxs)("label",{htmlFor:"option-".concat(e.id),className:"block p-4 border-2 rounded-lg cursor-pointer transition h-full flex flex-col ".concat(m===e.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-indigo-300"),children:[(0,r.jsxs)("span",{className:"text-2xl font-bold text-indigo-700 mb-2",children:[e.amount," Credits"]}),(0,r.jsxs)("span",{className:"text-xl font-medium",children:["$",e.price]}),(0,r.jsxs)("span",{className:"text-gray-500 text-sm mt-1",children:["$",(e.price/e.amount).toFixed(2)," per credit"]})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:"What you can do with credits:"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-500 mr-2 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,r.jsx)("span",{children:"Generate personalized travel itineraries for any destination"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-500 mr-2 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,r.jsx)("span",{children:"Get customized recommendations for activities, restaurants, and accommodations"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-500 mr-2 flex-shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,r.jsx)("span",{children:"Save and print detailed itineraries for your trips"})]})]})]})]})}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 flex justify-between items-center",children:[(0,r.jsxs)("p",{className:"text-gray-600",children:["Selected: ",(0,r.jsxs)("span",{className:"font-medium",children:[null===(e=j.find(e=>e.id===m))||void 0===e?void 0:e.amount," Credits"]})]}),(0,r.jsx)("button",{onClick:handlePurchase,disabled:h,className:"px-6 py-3 rounded-lg font-medium flex items-center ".concat(h?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 text-white"),children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Purchase for $".concat(null===(s=j.find(e=>e.id===m))||void 0===s?void 0:s.price)})]})]})]})})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3198)}),_N_E=e.O()}]);